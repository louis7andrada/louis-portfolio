{{ define "main" }}

{{ $featured := first 5 (sort (where site.RegularPages "Section" "artworks") "Params.worknum" "desc") }}

<section class="w-full px-4 md:px-8 py-16 relative">

  <div class="w-full max-w-[1200px] mx-auto">

    <h2 class="text-center text-3xl font-semibold mb-10">Featured Artwork</h2>

    {{ with index $featured 0 }}
    <a id="featuredLink" href="{{ .RelPermalink }}" target="_blank" rel="noopener noreferrer">
      <div class="featured-slideshow-container">
        <img 
          id="featuredArtwork" 
          src="{{ .Params.image }}" 
          alt="{{ .Title }}" 
          class="featured-img featured-fade homepage-image"
        />
      </div>
    </a>

    <div id="featuredInfo" class="text-center mt-6">
      <h3 class="text-2xl font-semibold" id="featuredTitle">{{ .Title }}</h3>
      <p class="text-gray-600" id="featuredDetails">
        {{ .Params.year }} • {{ .Params.medium }} • {{ .Params.size }}
      </p>
    </div>
    {{ end }}

  </div>

  <!-- LEFT ARROW -->
        <button id="prevBtn" class="slideshow-arrow left">
          ‹
        </button>

        <!-- RIGHT ARROW -->
        <button id="nextBtn" class="slideshow-arrow right">
          ›
        </button>

</section>

<script>
  window.featuredArtworks = [
    {{ range $featured }}
    {
      title: "{{ .Title }}",
      year: "{{ .Params.year }}",
      medium: "{{ .Params.medium }}",
      size: "{{ .Params.size }}",
      image: "{{ .Params.image }}",
      link: "{{ .RelPermalink }}"
    },
    {{ end }}
  ];
</script>

{{ end }}
